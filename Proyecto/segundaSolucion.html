<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DyC</title>
    <!--Hojas de estilo-->
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="css/divideYconquer.css" rel="stylesheet">
    <link rel="preload" href="css/divideYconquer.css" as="style"> <!--Hacer el sitio web mas rapido-->
    <!--Scripts-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 
    
    
    <script type="text/javascript">
        
        function obtener_Colocar4() 
        {
            $("#primer-parte").empty();
            const str1 = document.getElementById("str1").value;
            const str2 = document.getElementById("str2").value;
            const str3 = document.getElementById("str3").value;
            const str4 = document.getElementById("str4").value;

            if(str1 == "" || str2 == "" || str3 == "" || str4 == "" )
                alert("No ha ingresado las 4 cadenas correspondientes!");
            else{
                let primeras_cuatro_Cadenas =
                "<div class=\"separar-flex animate__animated animate__backInLeft\" style=\"margin: 50px;\">" + 
                    "<p id='p1' class=\"palabra-cuadro\">"+ str1 +"</p>" +
                    "<p id='p2' class=\"palabra-cuadro\">"+ str2 +"</p>" + 
                    "<p id='p3' class=\"palabra-cuadro\">"+ str3 +"</p>" +
                    "<p id='p4' class=\"palabra-cuadro\">"+ str4 +"</p>" +
                "</div>";
    
                $("#primer-parte").append(primeras_cuatro_Cadenas);
                
            }
            
        }

        function compara_prefijos() 
        {
            $("#compara_primer_prefijo").empty();

            const str1 = document.getElementById("str1").value;
            const str2 = document.getElementById("str2").value;
            const str3 = document.getElementById("str3").value;
            const str4 = document.getElementById("str4").value;

            if(str1 == "" || str2 == "" || str3 == "" || str4 == "" )
                alert("No ha ingresado las 4 cadenas correspondientes!");
            else{
                let primeras_comparacion =
                
                "<div class=\"separar-flex animate__animated animate__fadeInBottomRight animate__delay-3s\" style=\"margin: 50px;\">" +
                    "<p id = 'palabra1' class=\"palabra-cuadro\"></p>" +
                    "<p id = 'palabra2' class=\"palabra-cuadro\"></p>" + 
                "</div>";
            
                $("#compara_primer_prefijo").append(primeras_comparacion);
            }
            
        }

        function regresa_prefijoFinal() 
        {
            $("#retorna_prefijoComunMasLargo").empty();

            const str1 = document.getElementById("str1").value;
            const str2 = document.getElementById("str2").value;
            const str3 = document.getElementById("str3").value;
            const str4 = document.getElementById("str4").value;

            if(str1 == "" || str2 == "" || str3 == "" || str4 == "" )
                alert("No ha ingresado las 4 cadenas correspondientes!");
            else{
                let prefijo_comun_mas_largo =
                
                "<div class=\"separar-flex animate__animated animate__backInUp animate__delay-5s\" style=\"margin: 50px;\"> " +
                    "<p id = 'palabraFinal' class=\"palabra-cuadro\"></p>" +
                "</div>";
            
                $("#retorna_prefijoComunMasLargo").append(prefijo_comun_mas_largo);
            }
            
        }

    </script>

    <script>
        
        function animar_explicacion()
        {
            $("#paso1").addClass("animate__animated animate__wobble animate__delay-1s");
            $("#paso2").addClass("animate__animated animate__wobble animate__delay-2s ");
            $("#paso3").addClass("animate__animated animate__wobble animate__delay-2s ");        
            $("#paso4").addClass("animate__animated animate__wobble animate__delay-5s");
        
        }
    
    </script>

    <script>

        function SoloMinusculas(e){

            key = e.keyCode || e.wich;
            tecla = String.fromCharCode(key).toString();
            letras = "abcdefghijklmnñopqrstuvwxyzáéíóú";
            
            especiales = [8];
            tecla_especial = false;

            for(var i in especiales){
                if(key == especiales[i]){
                    tecla_especial = true;
                    break;
                }
            }

            if(letras.indexOf(tecla)== -1 && !tecla_especial){
                alert("Solo detecta minusculas");
                return false;
            }
        }

    </script> 

    <script>
        // Programa JS para encontrar el prefijo comun más largo usando DyV
        
        // Funcion para encontrar el prefijo comun entre cadenas (str1 & str2)
        //@param1: str1 a comparar
        //@param2: str2 a comparar
        function prefijoComunDos(str1, str2)
        {
            let result = "";
            let n1 = str1.length, n2 = str2.length;
            // Comparar str1 & str2
            for(let i = 0, j = 0; i <= n1 - 1 && j <= n2 - 1; i++, j++)
            {
                if (str1[i] != str2[j])
                    break;

                result += str1[i];// Se concatena caracter x caracter, para aumentar el prefijo
            }
            return (result);
        }
    </script>

    <script>
        // Funcion Divide y Venceras para encontrar el prefijo comun.
        // Es similar al metodo Merge sort
        //@param1: el arreglo de caracteres
        //@param2: el indice del inicio del arreglo
        //@param3: el indice del final del arreglo
        function prefijoComunMasLargo(arr, low, high)
        {
            if (low == high)
                return (arr[low]);
        
            if (high > low)
            {   
                // Lo mismo que (low + high)/2, pero evita el 
                // desbordamiento para valores grandes de "low" y "high"
                let mid = low + Math.floor((high - low) / 2);
        
                let str1 = prefijoComunMasLargo(arr, low, mid);
                console.log("str1 -> " + str1);
                let str2 = prefijoComunMasLargo(arr, mid + 1, high);
                console.log("str2 -> " + str2);
                let resultadoFinal = prefijoComunDos(str1, str2);
                console.log("FINAL ----> " + resultadoFinal);
                return (resultadoFinal);
            }
            return null;
        }
    </script>


    <script>
        function palabras(){
            const p1 = document.getElementById("p1").innerHTML;
            const p2 = document.getElementById("p2").innerHTML;
            const p3 = document.getElementById("p3").innerHTML;
            const p4 = document.getElementById("p4").innerHTML;

            let arr1 = [p1, p2];
            let arr2 = [p3, p4];

            let n = arr1.length;
            let m = arr2.length;
            let ans1 = prefijoComunMasLargo(arr1, 0, n - 1);
            let ans2 = prefijoComunMasLargo(arr2, 0, n - 1);
        
        if (ans1.length != 0 && ans2.length != 0){       //Si es mayor a 0, quiere decir que si existe un prefijo comun mas largo
            document.getElementById("palabra1").innerHTML = ans1;
            document.getElementById("palabra2").innerHTML = ans2;
        }
        else
            document.write("There is no common prefix");
        }
    </script>

    <script>
        function cambiarColor(){
            document.getElementById("p1").innerHTML;
            //alert(p1);
        }
    </script>


    <script>
        function main(){
        // Programa "principal" para probar el algoritmo
        const str1 = document.getElementById("str1").value;
        const str2 = document.getElementById("str2").value;
        const str3 = document.getElementById("str3").value;
        const str4 = document.getElementById("str4").value;
        let arr = [str1, str2, str3, str4];
        let n = arr.length;
        let ans = prefijoComunMasLargo(arr, 0, n - 1);
        
        if (ans.length != 0)        //Si es mayor a 0, quiere decir que si existe un prefijo comun mas largo
            document.getElementById("palabraFinal").innerHTML = ans;
        else
            document.write("There is no common prefix");
        }

    </script>


</head>

<body>

    <header class="header">
        <div class="container logo-nav-container">
            <h1 class="animate__animated animate__pulse animate__infinite	infinite">Divide and Conquer</h1>
            <nav class="navigation">
                <ul>
                    <li><a href="./index.html"> Regresar al menú</a></li>
                </ul>
            </nav>
        </div>
    </header>


    <div class="contenedor">

        <main class="fondo-main">
            <div class="text">
                <h1>Instrucciones</h1>
                <p class="texto-instrucciones"> Inserte las 4 cadenas a comparar y presione el botón comenzar.</p>
                <p class="texto-instrucciones"> NOTA: Las palabras tienen que estar en minusculas.</p>
            </div>

            <br><br>

            <div class="strings">
                <input class="entrada-texto" type="text" name="str1" id="str1" onkeypress="return SoloMinusculas(event);" required>
                <input class="entrada-texto" type="text" name="str2" id="str2" onkeypress="return SoloMinusculas(event);" required>
                <input class="entrada-texto" type="text" name="str3" id="str3" onkeypress="return SoloMinusculas(event);" required>
                <input class="entrada-texto" type="text" name="str4" id="str4" onkeypress="return SoloMinusculas(event);" required>
            </div>

            <br><br>

            <div class="centrar-flex">
                <button class="boton" name="comenzar" type="button" onclick="obtener_Colocar4();compara_prefijos();regresa_prefijoFinal();
                                                                            animar_explicacion(); palabras(); main();
                "> Comenzar </button>
            </div>

            <div id="primer-parte">
                <!-- Se colocan las 4 cadenas -->
            </div>
            
            <div id="compara_primer_prefijo">
                <!-- Se colocan el prefijo de ambos lados -->
            </div>
            
            <div id="retorna_prefijoComunMasLargo">
                <!-- Se coloca el prefijo comun mas largo de las 4 cadenas-->
            </div>
            
        </main>

        
        <div class="titulo-explicacion">
            <p>Explicación del Algoritmo</p>
        </div>

        <div class="contenedor-explicacion">

            <div>
                <h2 class="centrar" id="paso1">PASO 1</h2>
                <p class="contenedor-pasos">Primero se divide el arreglo de cadenas en dos partes.</p>
            </div>

            <div>
                <h2 class="centrar" id="paso2">PASO 2</h2>
                <p class="contenedor-pasos">Posteriormente, se hace lo mismo tanto para la parte izquierda como para la parte derecha, 
                    repitiendo hasta que todas las cadenas tengan una longitud de 1.</p>
            </div>

            <div>
                <h2 class="centrar" id="paso3">PASO 3</h2>
                <p class="contenedor-pasos">De igual manera, se volverá a analizar caracter por caracter de inicio a fin 
                    para poder obtener el prefijo de las cadenas.</p>
            </div>

            <div>
                <h2 class="centrar" id="paso4">PASO 4</h2>
                <p class="contenedor-pasos">Finalmente, el proceso de conquistar se da 
                    cuando se regresa el prefijo común de las cadenas de la parte izquierda y derecha.</p>
            </div>

        </div><!--.contenedor-explicacion-->


        <div class="contenedor-codigos">

            <div>
                <b><h1 class="titulo-codigo">prefijoComunDos</h1></b>
                <div class="codigo-uno">
                    <p id="codigo-uno-1">function prefijoComunDos(str1,str2)</p>
                    <p id="codigo-uno-2">{</p>
                    <p id="codigo-uno-3"> &nbsp;&nbsp; let result = "";</p>
                    <p id="codigo-uno-4"> &nbsp;&nbsp; let n1 = str1.length, n2 = str2.length;</p>
                    <p id="codigo-uno-5"> &nbsp;&nbsp; for (let i = 0, j = 0; i <= (n1 - 1) && j <=(n2 - 1); i++, j++) { </p>
                    <p id="codigo-uno-6"> &nbsp;&nbsp;&nbsp;&nbsp; if (str1[i] != str2[j]) </p>
                    <p id="codigo-uno-7"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;</p>
                    <p id="codigo-uno-8"> &nbsp;&nbsp;&nbsp;&nbsp; result += str1[i];</p>
                    <p id="codigo-uno-9"> &nbsp;&nbsp;&nbsp; }</p>
                    <p id="codigo-uno-10">return (result);</p>
                    <p id="codigo-uno-11">}</p>
                </div>
            </div>

            <div>
                <b><h1 class="titulo-codigo">prefijoComunMasLargo</h1></b>
                <div class="codigo-dos">
                    <p id="codigo-dos-1">function prefijoComunMasLargo(arr, low, high)</p>
                    <p id="codigo-dos-2">{</p>
                    <p id="codigo-dos-3"> &nbsp;&nbsp; if (low == high)</p>
                    <p id="codigo-dos-4"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return (arr[low]);</p>
                    <p id="codigo-dos-5"> &nbsp;&nbsp; if (high > low)</p>
                    <p id="codigo-dos-6"> &nbsp;&nbsp; {</p>
                    <p id="codigo-dos-7"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; let mid = low + Math.floor((high - low) / 2);</p>
                    <p id="codigo-dos-8"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; let str1 = prefijoComunMasLargo(arr, low, mid); </p>
                    <p id="codigo-dos-9"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; let str2 = prefijoComunMasLargo(arr, mid + 1, high); </p>
                    <p id="codigo-dos-10"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return (prefijoComunDos(str1, str2)); </p>
                    <p id="codigo-dos-11"> &nbsp;&nbsp; } </p>
                    <p id="codigo-dos-12">&nbsp;&nbsp; return null; </p>
                    <p id="codigo-dos-13">} </p>
                </div>
            </div>

        </div> <!--.contenedor-codigos-->

    </div> <!--.contenedor-->



</body>
</html>