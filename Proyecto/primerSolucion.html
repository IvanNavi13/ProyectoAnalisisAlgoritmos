<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fuerza Bruta</title>
    <!--Hojas de estilo-->
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="css/fuerzaBruta.css" rel="stylesheet">
    <link rel="preload" href="css/fuerzaBruta.css" as="style"> <!--Hacer el sitio web mas rapido-->
    <link href="css/flecha.css" rel="stylesheet">
    <!--Scripts-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 

    <script type="text/javascript">
        
        function obtener() 
        {
            const str1 = document.getElementById("str1").value;
            const str2 = document.getElementById("str2").value;
            const str3 = document.getElementById("str3").value;
            const str4 = document.getElementById("str4").value;
            document.getElementById("palabra1").innerHTML = str1;
            document.getElementById("palabra2").innerHTML = str2;
            prefijo();
        }
    </script>


    <script>
        function moverFlecha(x) {
            var p = (document.getElementById("palabra5").clientWidth - 8) + "px";
            //  alert("= "+p);
            var item = document.getElementById("flechas");

            document.getElementById("flechas").animate([
                // keyframes
                { transform: 'translateX(18px)' },
                { transform: 'translateX(' + p + ')' },
                { transform: 'delay:1s' }
            ], {
                // timing options
                duration: 2000,
                iterations: 1
            });
            //var longitud = document.getElementById("palabra2").style.marginLeft;
        }
    </script>

    <!--****************************************FUNCION DEL ALGORITMO***********************************************************-->
    <script>

        // Funcion para encontrar el prefijo comun entre dos cadenas (str1 & str2)
            //@param1: cada n1 a comparar
            //@param2: cada n2 a comparar
        function prefijoComunDos(str1, str2) {
            //Cadena donde se guardara el valor final
            let result = "";         
            //Obtenemos el tamaño               
            let n1 = str1.length, n2 = str2.length; 
            // Comparar str1 & str2
            for (let i = 0, j = 0; i <= (n1 - 1) && j <= (n2 - 1); i++, j++) {

                if (str1[i] != str2[j])
                    break;
                // Voy concatenando caracter x caracter, para aumentar el prefijo
                result += str1[i]; 

            }

            //Regreso el valor final del prefijo
            return (result);      
        }

        // Funcion que devuelve el prefijo comun mas largo del arreglo de cadenas
            //@param1: el arreglo de caracteres
            //@param2: el tamaño del arreglo
        function prefijoComunMasLargo(arr, n) {

            let prefix = arr[0];

            for (let i = 1; i <= n - 1; i++)
                prefix = prefijoComunDos(prefix, arr[i]);

            //Regreso el prefijo comun mas largo de las n cadenas
            return (prefix);
        }

        //********************************************************************************************************
        // Programa "principal" para probar el algoritmo
        function prefijo() 
        {
            const str1 = document.getElementById("palabra1");
            var contenido1 = str1.innerHTML;
            const str2 = document.getElementById("palabra2");
            var contenido2 = str2.innerHTML;

            let arr = [contenido1, contenido2];
            let n = arr.length;
            let ans = prefijoComunMasLargo(arr, n);

            //Si es mayor a 0, quiere decir que si existe un prefijo comun mas largo
            if (ans.length > 0) {     
                document.getElementById("palabra5").innerHTML = ans;
            }
            else {
                alert("No hay prefijo común");
                return -1;
            }
            return ans.length;
        }
        //********************************************************************************************************

    </script>
    <!--****************************************FUNCION DEL ALGORITMO***********************************************************-->

    <script>

        function mover(x) {

            document.getElementById("flechaI").style.display = "block"
            document.getElementById("flechaI").style.marginLeft =  -(document.getElementById('palabra2').clientWidth - 10) + "px";
            document.getElementById("flechaD").style.display = "block"
            var l = document.getElementById("palabra2");
            var lon = l.currentStyle || window.getComputedStyle(l);
            var p = lon.marginLeft;
            //if(document.getElementById("str1").value[0]=="m")
            //var q = (x-1) * 20 +15;
            //else
            var w = document.getElementById("palabra1").clientWidth;
            w = w - 15;
            p = parseInt(p, 10) + w + "px";
            //alert("= " +w);
            document.getElementById("flechaD").style.marginLeft = p;

        }
    </script>

<script>

    function sustituir() {
            const str3 = document.getElementById("str3").value;
            document.getElementById("palabra1").innerHTML = document.getElementById("palabra5").innerHTML;
            document.getElementById("palabra2").innerHTML = str3;
            prefijo();   
            mover(document.getElementById('palabra1').clientWidth);
            moverFlecha(prefijo());       
    }

</script>

<script>

function sustituir2() {
        const str4 = document.getElementById("str4").value;
        document.getElementById("palabra1").innerHTML = document.getElementById("palabra5").innerHTML;
        document.getElementById("palabra2").innerHTML = str4;
        prefijo();    
        mover(document.getElementById('palabra1').clientWidth);
        moverFlecha(prefijo());      
}

</script>

<script>

function mostrar() {
        const prefijo = document.getElementById("palabra5").innerHTML;
        document.getElementById("final").innerHTML = "El prefijo mas largo es: " + prefijo;
        prefijo();          
}

</script>

    <script>

        function SoloMinusculas(e){

            key = e.keyCode || e.wich;
            tecla = String.fromCharCode(key).toString();
            letras = "abcdefghijklmnñopqrstuvwxyzáéíóú";
            
            especiales = [8];
            tecla_especial = false;

            for(var i in especiales){
                if(key == especiales[i]){
                    tecla_especial = true;
                    break;
                }
            }

            if(letras.indexOf(tecla)== -1 && !tecla_especial){
                alert("Solo detecta minusculas");
                return false;
            }
        }
    
    </script> 

    <script>
        function cambiarDiseñoCodigo(){
            document.getElementById("contenedor-codigos").style.background= "#FFE26B";
            document.getElementById("codigo-uno-1").style.color = "#FFE26B";
            
        }
    </script>

    <script>
        function verificar_Vacio() 
        {
            const str1 = document.getElementById("str1").value;
            const str2 = document.getElementById("str2").value;
            const str3 = document.getElementById("str3").value;
            const str4 = document.getElementById("str4").value;
            
        }
    </script>

    <script>
            
        function animar_explicacion()
        {
            $("#paso1").addClass("animate__animated animate__wobble animate__delay-1s");
            $("#paso2").addClass("animate__animated animate__wobble animate__delay-3s ");
            $("#paso3").addClass("animate__animated animate__wobble animate__delay-5s ");
        
        }

    </script>



</head>



<body>

    <header class="header">
        <div class="container logo-nav-container">
            <h1 class="animate__animated animate__pulse animate__infinite	infinite">Fuerza Bruta</h1>
            <nav class="navigation">
                <ul>
                    <li><a href="./index.html"> Regresar al menú</a></li>
                </ul>
            </nav>
        </div>
    </header>


    <div class="contenedor">
        <main class="fondo-main">
            <div class="text">
                <h1>Instrucciones</h1>
                <p class="texto-instrucciones"> Inserte las 4 cadenas a comparar y presione el botón comenzar.</p>
                <p class="texto-instrucciones"> NOTA: Las palabras tienen que estar en minusculas.</p>
            </div>

            <br><br>

            <div class="strings">
                <input class="entrada-texto" type="text" name="str1" id="str1" onkeypress="return SoloMinusculas(event);" required>
                <input class="entrada-texto" type="text" name="str2" id="str2" onkeypress="return SoloMinusculas(event);" required>
                <input class="entrada-texto" type="text" name="str3" id="str3" onkeypress="return SoloMinusculas(event);" required>
                <input class="entrada-texto" type="text" name="str4" id="str4" onkeypress="return SoloMinusculas(event);" required>
            </div>

            <br><br>

            <div class="centrar-flex">
                <button class="boton" name="comenzar" type="button" onclick=" verificar_Vacio(), animar_explicacion(),
                obtener(), moverFlecha(prefijo()) , mover(document.getElementById('str1').value.length), 
                setTimeout(sustituir, 2500), setTimeout(sustituir2, 5000), setTimeout(mostrar, 7500);"> Comenzar </button>
            </div>

            <br><br><br>

            <div class="palabras centrar-flex">
                <h1 id="palabra1" style="color: #02457A;"></h1>
                <h1 id="palabra2" style="color: #02457A;"></h1>
            </div>
    
            <div id="flechas">
                <div id="flechaI" class="flecha1 derecha"></div>
                <div id="flechaD" class="flecha2 derecha"></div>
            </div>
    
            <div class="palabra-prefijo centrar-flex">
                <h1 id="palabra5" style="color: #B60020;"></h1>
            </div>

            <div> <h1 id= "final"></h1> </div>

        </main>

        
        <div class="titulo-explicacion">
            <p>Explicación del Algoritmo</p>
        </div>

        <div class="contenedor-explicacion">

            <div>
                <h2 class="centrar" id="paso1">PASO 1</h2>
                <p class="contenedor-pasos"> Se seleccionan 2 cadenas para que asi se empiece a comparar caracter por
                    caracter,de inicio a fin. </p>
            </div>

            <div>
                <h2 class="centrar" id="paso2">PASO 2</h2>
                <p class="contenedor-pasos">Dichos caracteres serán almacenados en la variable prefix, la cual nos
                    indica el prefijo común más largo hasta el momento.</p>
            </div>

            <div>
                <h2 class="centrar" id="paso3">PASO 3</h2>
                <p class="contenedor-pasos">Si se obtuvo un prefijo con las cadenas utilizadas, dicho prefijo se
                    comparará con la siguiente cadena. <br> Finalmente, se vuelve a repetir el mismo proceso con las cadenas
                    faltantes, que para este ejemplo son 4.</p> <br>
            </div>

        </div><!--.contenedor-explicacion-->


        <div class="contenedor-codigos">

            <div>
                <b><h1 class="titulo-codigo">prefijoComunDos</h1></b>
                <div class="codigo-uno">
                    <p id="codigo-uno-1">function prefijoComunDos(str1,str2)</p>
                    <p id="codigo-uno-2">{</p>
                    <p id="codigo-uno-3"> &nbsp;&nbsp; let result = "";</p>
                    <p id="codigo-uno-4"> &nbsp;&nbsp; let n1 = str1.length, n2 = str2.length;</p>
                    <p id="codigo-uno-5"> &nbsp;&nbsp; for (let i = 0, j = 0; i <= (n1 - 1) && j <=(n2 - 1); i++, j++) { </p>
                    <p id="codigo-uno-6"> &nbsp;&nbsp;&nbsp;&nbsp; if (str1[i] != str2[j]) </p>
                    <p id="codigo-uno-7"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;</p>
                    <p id="codigo-uno-8"> &nbsp;&nbsp;&nbsp;&nbsp; result += str1[i];</p>
                    <p id="codigo-uno-9"> &nbsp;&nbsp;&nbsp; }</p>
                    <p id="codigo-uno-10">return (result);</p>
                    <p id="codigo-uno-11">}</p>

                </div>
            </div>

            <div>
                <b><h1 class="titulo-codigo">prefijoComunMasLargo</h1></b>
                <div class="codigo-dos">
                    <p id="codigo-dos-1">function prefijoComunMasLargo(arr,n)</p>
                    <p id="codigo-dos-2">{</p>
                    <p id="codigo-dos-3">&nbsp;&nbsp;&nbsp;&nbsp; let prefix = arr[0];</p>
                    <p id="codigo-dos-4">&nbsp;&nbsp;&nbsp;&nbsp; for (let i = 1; i <= n - 1; i++) </p>
                    <p id="codigo-dos-5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prefix = prefijoComunDos(prefix, arr[i]); </p>
                    <p id="codigo-dos-6">&nbsp;&nbsp;&nbsp;&nbsp; return (prefix);</p>
                    <p id="codigo-dos-7">}</p>
                </div>
            </div>

        </div> <!--.contenedor-codigos-->

    </div> <!--.contenedor-->


</body>

</html>


